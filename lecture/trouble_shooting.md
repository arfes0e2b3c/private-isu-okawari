# 困った時は

## 何も変更してないのにベンチマーカーが落ちるようになった！

もしかしたらインスタンスのストレージをマックスまで使い切ってしまっているかもしれません

```bash
# 現在のディレクトリ内のストレージの使用量を分析
df -h
```

/dev/root が 15G とかで 100%になってたらそれ原因かも

```bash
# でかいファイルを検索
sudo find / -type f -size +100M -exec ls -lh {} \; 2>/dev/null
```

/var/lib/mysql/binlog.~とかがたくさんあるならそれ全部消す

```bash
# binlogの一覧を見る
mysql > show master logs;
# 数字が一番大きいやつを指定すると全部消えるので自分の番号ごとに適切にかえる(時間かかりがち)
mysql > purge master logs to 'binlog.000091';
```

slow-query のログがあるならそれも消す

`sudo rm パス名`で消せる。戻せないから注意

## サーバー上のファイルを編集する方法がわからない！

`sudo vi パス名`で開けます

もしコードの中身を全部更新したいなら
:%d で全削除、更新したい内容をコピペ、:wq で保存でおけ。
おそらく何らかの更新コマンドを叩かないと最新のファイルが読まれないものが多いから注意
